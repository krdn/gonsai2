# ============================================================================
# n8n Performance Optimization Configuration
# ============================================================================

# ============================================================================
# Redis Configuration
# ============================================================================

# Redis server host
REDIS_HOST=localhost

# Redis server port
REDIS_PORT=6379

# Redis password (optional)
REDIS_PASSWORD=

# Redis database number
REDIS_DB=0

# ============================================================================
# n8n Configuration
# ============================================================================

# n8n API URL
NEXT_PUBLIC_N8N_URL=http://localhost:5678

# n8n API Key (required for API calls)
# Generate in n8n: Settings → API → Create API Key
N8N_API_KEY=

# ============================================================================
# MongoDB Configuration
# ============================================================================

# MongoDB connection URI
MONGODB_URI=mongodb://superadmin:password@localhost:27017/n8n?authSource=admin

# ============================================================================
# Performance Monitoring
# ============================================================================

# Enable performance tracking
ENABLE_PERFORMANCE_TRACKING=true

# Performance tracking interval (milliseconds)
PERFORMANCE_TRACKING_INTERVAL=60000

# Performance report generation interval (milliseconds)
PERFORMANCE_REPORT_INTERVAL=86400000

# ============================================================================
# Cache TTL Configuration (seconds)
# ============================================================================

# Workflow metadata cache TTL
CACHE_WORKFLOW_TTL=300

# Workflow list cache TTL
CACHE_WORKFLOW_LIST_TTL=120

# Execution result cache TTL (success)
CACHE_EXECUTION_TTL_SUCCESS=3600

# Execution result cache TTL (error)
CACHE_EXECUTION_TTL_ERROR=1800

# Execution result cache TTL (running)
CACHE_EXECUTION_TTL_RUNNING=300

# API response cache TTL
CACHE_API_TTL=300

# Session cache TTL
CACHE_SESSION_TTL=604800

# ============================================================================
# Cache Configuration
# ============================================================================

# Maximum number of recent executions to keep per workflow
CACHE_RECENT_EXECUTIONS_LIMIT=100

# Recent executions list TTL
CACHE_RECENT_EXECUTIONS_TTL=600

# ============================================================================
# Database Optimization
# ============================================================================

# TTL for old execution cleanup (days)
DB_EXECUTION_RETENTION_DAYS=30

# Enable automatic database optimization
DB_AUTO_OPTIMIZE=false

# Database optimization schedule (cron format)
DB_OPTIMIZE_SCHEDULE=0 2 * * 0

# ============================================================================
# Frontend Optimization
# ============================================================================

# Enable code splitting
NEXT_PUBLIC_CODE_SPLITTING=true

# Enable image optimization
NEXT_PUBLIC_IMAGE_OPTIMIZATION=true

# Enable service worker
NEXT_PUBLIC_SERVICE_WORKER=false

# Virtual list overscan count
NEXT_PUBLIC_VIRTUAL_LIST_OVERSCAN=3

# ============================================================================
# Benchmarking
# ============================================================================

# Number of iterations for each benchmark
BENCHMARK_ITERATIONS=10

# Benchmark report output directory
BENCHMARK_REPORT_DIR=./infrastructure/optimization/benchmarks

# ============================================================================
# Logging
# ============================================================================

# Log level (debug, info, warn, error)
LOG_LEVEL=info

# Enable cache statistics logging
LOG_CACHE_STATS=true

# Cache statistics logging interval (milliseconds)
LOG_CACHE_STATS_INTERVAL=300000
