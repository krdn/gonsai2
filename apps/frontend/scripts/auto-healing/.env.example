# n8n Auto-Healing Configuration

# ============================================================================
# n8n Configuration
# ============================================================================

# n8n API URL
NEXT_PUBLIC_N8N_URL=http://localhost:5678

# n8n API Key (required for workflow operations)
# Generate in n8n: Settings → API → Create API Key
N8N_API_KEY=

# ============================================================================
# MongoDB Configuration
# ============================================================================

# MongoDB connection URI
MONGODB_URI=mongodb://superadmin:password@localhost:27017/n8n?authSource=admin

# ============================================================================
# Claude API Configuration
# ============================================================================

# Anthropic API Key (required for fix generation)
# Get from: https://console.anthropic.com/
ANTHROPIC_API_KEY=

# ============================================================================
# Git Configuration
# ============================================================================

# Git remote name (default: origin)
GIT_REMOTE=origin

# Git commit prefix (default: fix(auto-healing))
GIT_COMMIT_PREFIX=fix(auto-healing)

# Git branch prefix (default: auto-fix)
GIT_BRANCH_PREFIX=auto-fix

# Auto-merge PR after tests pass (default: false)
# Set to true to enable automatic merging
AUTO_MERGE_PR=false

# ============================================================================
# Notification Configuration
# ============================================================================

# Slack Webhook URL (optional)
# Create at: https://api.slack.com/messaging/webhooks
SLACK_WEBHOOK_URL=

# Notification threshold (number of consecutive failures before alert)
NOTIFICATION_THRESHOLD=3

# ============================================================================
# Monitoring Configuration
# ============================================================================

# Monitor check interval (seconds) - Note: systemd timer overrides this
MONITOR_INTERVAL=300

# Error log retention (days)
LOG_RETENTION_DAYS=30

# Maximum log file size (MB)
MAX_LOG_SIZE_MB=100

# ============================================================================
# Fix Generation Configuration
# ============================================================================

# Maximum number of fixes to generate per run
MAX_FIXES_PER_RUN=5

# Minimum impact score to trigger auto-fix (0-100)
MIN_IMPACT_SCORE=50

# Enable auto-apply fixes (default: true)
# Set to false to generate fixes without applying them
AUTO_APPLY_FIXES=true

# ============================================================================
# Testing Configuration
# ============================================================================

# Skip tests before deployment (NOT RECOMMENDED)
SKIP_TESTS=false

# Test timeout (seconds)
TEST_TIMEOUT=300
