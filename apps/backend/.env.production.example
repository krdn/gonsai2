# ==================================================
# Backend Environment Variables - PRODUCTION
# ==================================================
# IMPORTANT: Copy this file to .env.production and fill in real values
# NEVER commit .env.production with real secrets!
# ==================================================

# ==================================================
# Node Environment
# ==================================================
NODE_ENV=production
HOST=0.0.0.0
PORT=3000

# ==================================================
# MongoDB Configuration
# ==================================================
# Docker 내부 네트워크에서는 서비스명 사용
MONGODB_URI=mongodb://USERNAME:PASSWORD@mongodb-prod:27017/gonsai2_prod?authSource=admin

# Connection Pool Settings
MONGODB_MAX_POOL_SIZE=100
MONGODB_MIN_POOL_SIZE=10

# ==================================================
# JWT Configuration
# ==================================================
# IMPORTANT: Generate new secret key for production
# Command: openssl rand -hex 32
JWT_SECRET=GENERATE_NEW_SECRET_WITH_OPENSSL_RAND_HEX_32

# Token expiration
JWT_EXPIRES_IN=7d

# ==================================================
# n8n Integration
# ==================================================
# host.docker.internal은 컨테이너에서 호스트 머신 접근
N8N_API_KEY=YOUR_N8N_API_KEY_HERE
N8N_BASE_URL=http://host.docker.internal:5678
N8N_WEBHOOK_SECRET=GENERATE_NEW_WEBHOOK_SECRET

# ==================================================
# WebSocket Configuration
# ==================================================
WS_PORT=3001
WS_PATH=/ws

# ==================================================
# CORS Configuration
# ==================================================
# 운영 도메인으로 변경 필요
CORS_ORIGINS=https://your-domain.com

# ==================================================
# Rate Limiting
# ==================================================
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX_REQUESTS=100

# Auth endpoints
RATE_LIMIT_AUTH_WINDOW=15
RATE_LIMIT_AUTH_MAX=5

# ==================================================
# File Upload Configuration
# ==================================================
MAX_FILE_SIZE=10485760
UPLOAD_DIR=./uploads

# ==================================================
# Logging Configuration
# ==================================================
LOG_LEVEL=info
LOG_FILE_PATH=./logs
LOG_MAX_SIZE=20m
LOG_MAX_FILES=14d

# ==================================================
# Security Configuration
# ==================================================
# IMPORTANT: Generate new secret key for production
# Command: openssl rand -hex 32
SESSION_SECRET=GENERATE_NEW_SESSION_SECRET
TRUST_PROXY=true

# ==================================================
# Feature Flags
# ==================================================
ENABLE_SWAGGER_UI=false
ENABLE_METRICS=true
ENABLE_DEBUG_LOGGING=false

# ==================================================
# Email Configuration (SMTP)
# ==================================================
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-app-password
EMAIL_FROM=noreply@your-domain.com

# Frontend URL for password reset links
FRONTEND_URL=https://your-domain.com
