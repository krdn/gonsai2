# ==================================================
# Backend Environment Variables Template
# ==================================================
# Copy this file to .env and fill in your values
# Never commit .env to version control
# ==================================================

# ==================================================
# Node Environment
# ==================================================
NODE_ENV=development  # development | production | test
HOST=0.0.0.0
PORT=3000

# ==================================================
# MongoDB Configuration
# ==================================================
# Development (local Docker MongoDB)
MONGODB_URI=mongodb://superadmin:YOUR_PASSWORD_HERE@localhost:27017/gonsai2?authSource=admin

# Production (with replica set)
# MONGODB_URI=mongodb://username:password@host1:27017,host2:27017,host3:27017/gonsai2?authSource=admin&replicaSet=rs0

# Connection Pool Settings
MONGODB_MAX_POOL_SIZE=100
MONGODB_MIN_POOL_SIZE=10

# ==================================================
# JWT Configuration
# ==================================================
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-min-32-chars-change-this-in-production

# Token expiration
JWT_EXPIRES_IN=7d  # 7 days

# ==================================================
# Redis Configuration (Optional - for caching)
# ==================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ==================================================
# n8n Integration
# ==================================================
# n8n API Key (get from n8n UI: Settings â†’ n8n API)
N8N_API_KEY=your-n8n-api-key-here

# n8n Base URL
N8N_BASE_URL=http://localhost:5678

# n8n Webhook Secret (for webhook verification)
N8N_WEBHOOK_SECRET=your-webhook-secret-here

# ==================================================
# WebSocket Configuration
# ==================================================
WS_PORT=3001  # WebSocket server port (if separate from HTTP)
WS_PATH=/ws   # WebSocket endpoint path

# ==================================================
# CORS Configuration
# ==================================================
# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:3002,http://192.168.0.50:3002

# ==================================================
# Rate Limiting
# ==================================================
RATE_LIMIT_WINDOW=15  # minutes
RATE_LIMIT_MAX_REQUESTS=100  # per window

# Auth endpoints (stricter limits)
RATE_LIMIT_AUTH_WINDOW=15  # minutes
RATE_LIMIT_AUTH_MAX=5  # per window

# ==================================================
# File Upload Configuration
# ==================================================
MAX_FILE_SIZE=10485760  # 10MB in bytes
UPLOAD_DIR=./uploads

# ==================================================
# Logging Configuration
# ==================================================
LOG_LEVEL=info  # error | warn | info | debug
LOG_FILE_PATH=./logs
LOG_MAX_SIZE=20m  # Maximum log file size
LOG_MAX_FILES=14d  # Log retention period

# ==================================================
# Email Configuration (for notifications)
# ==================================================
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# EMAIL_FROM=noreply@gonsai2.com

# ==================================================
# Security Configuration
# ==================================================
# Session secret for additional security layers
SESSION_SECRET=your-session-secret-min-32-chars-change-this

# Enable/disable trust proxy (for Nginx/reverse proxy)
TRUST_PROXY=true

# ==================================================
# Feature Flags (Optional)
# ==================================================
ENABLE_SWAGGER_UI=true
ENABLE_METRICS=false
ENABLE_DEBUG_LOGGING=false

# ==================================================
# External Services (Optional)
# ==================================================
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_REGION=us-east-1
# S3_BUCKET_NAME=

# ==================================================
# Development Settings
# ==================================================
# Enable hot reload in development
DEV_HOT_RELOAD=true

# Enable detailed error messages (development only)
DEV_DETAILED_ERRORS=true
