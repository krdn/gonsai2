# =============================================================================
# 개발 환경 변수
# =============================================================================
# 로컬 개발 환경용 설정
# =============================================================================

# -----------------------------------------------------------------------------
# Application Configuration
# -----------------------------------------------------------------------------
NODE_ENV=development
PORT=3000
APP_NAME=gonsai2-dev
APP_URL=http://localhost:3000

# -----------------------------------------------------------------------------
# n8n Configuration
# -----------------------------------------------------------------------------
N8N_API_URL=http://localhost:5678
N8N_WEBHOOK_URL=http://localhost:5678/webhook
N8N_API_KEY=dev-api-key-change-in-production

N8N_HOST=localhost
N8N_PROTOCOL=http
N8N_PORT=5678

# 개발용 암호화 키 (프로덕션에서는 절대 사용하지 마세요!)
N8N_ENCRYPTION_KEY=dev-encryption-key-32-chars-min
N8N_JWT_SECRET=dev-jwt-secret-change-me

EXECUTIONS_MODE=regular
EXECUTIONS_DATA_MAX_AGE=168
EXECUTIONS_DATA_PRUNE=true

# -----------------------------------------------------------------------------
# Database Configuration - PostgreSQL
# -----------------------------------------------------------------------------
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=n8n_dev
POSTGRES_USER=n8n_dev
POSTGRES_PASSWORD=dev_password

# -----------------------------------------------------------------------------
# Database Configuration - MongoDB
# -----------------------------------------------------------------------------
MONGO_ROOT_USER=dev_admin
MONGO_ROOT_PASSWORD=dev_password
MONGO_DATABASE=gonsai2_dev
MONGO_AUTH_SOURCE=admin

MONGODB_URI=mongodb://dev_admin:dev_password@localhost:27017/gonsai2_dev?authSource=admin

# -----------------------------------------------------------------------------
# Redis Configuration
# -----------------------------------------------------------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=dev_redis_password
REDIS_DB=0
REDIS_URL=redis://:dev_redis_password@localhost:6379/0

REDIS_MAX_MEMORY=512mb
REDIS_MAX_MEMORY_POLICY=allkeys-lru

# -----------------------------------------------------------------------------
# Security & Authentication
# -----------------------------------------------------------------------------
JWT_SECRET=dev-jwt-secret-min-32-characters-long
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

ENCRYPTION_KEY=dev-encryption-key-32-bytes-min

SESSION_SECRET=dev-session-secret
SESSION_MAX_AGE=604800000

CORS_ORIGIN=http://localhost:3000,http://localhost:3001

# -----------------------------------------------------------------------------
# Monitoring (개발 환경에서는 선택사항)
# -----------------------------------------------------------------------------
PROMETHEUS_PORT=9090
GRAFANA_PORT=3001
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin
LOKI_PORT=3100
ALERTMANAGER_PORT=9093

# -----------------------------------------------------------------------------
# Email Configuration (개발 환경 - MailHog 등 사용)
# -----------------------------------------------------------------------------
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_SECURE=false
SMTP_USER=
SMTP_PASSWORD=
EMAIL_FROM=dev@localhost

# -----------------------------------------------------------------------------
# Timezone
# -----------------------------------------------------------------------------
TIMEZONE=Asia/Seoul
TZ=Asia/Seoul

# -----------------------------------------------------------------------------
# Feature Flags (개발 환경)
# -----------------------------------------------------------------------------
ENABLE_METRICS=true
ENABLE_TRACING=true
ENABLE_DEBUG_LOGS=true
ENABLE_API_DOCS=true

# -----------------------------------------------------------------------------
# Development/Debug
# -----------------------------------------------------------------------------
DEBUG=true
VERBOSE_LOGGING=true
STACK_TRACE_LIMIT=50
NODE_OPTIONS=--max-old-space-size=4096

# Hot reload
WATCHPACK_POLLING=true
CHOKIDAR_USEPOLLING=true

# -----------------------------------------------------------------------------
# Rate Limiting (개발 환경 - 느슨한 제한)
# -----------------------------------------------------------------------------
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000

# -----------------------------------------------------------------------------
# File Upload
# -----------------------------------------------------------------------------
MAX_FILE_SIZE=52428800
UPLOAD_DIR=./tmp/uploads

# -----------------------------------------------------------------------------
# Cache Configuration
# -----------------------------------------------------------------------------
CACHE_TTL=300
CACHE_MAX_ITEMS=100

# -----------------------------------------------------------------------------
# Webhook Configuration
# -----------------------------------------------------------------------------
WEBHOOK_TIMEOUT=60000
WEBHOOK_MAX_PAYLOAD_SIZE=10485760

# -----------------------------------------------------------------------------
# Worker Configuration
# -----------------------------------------------------------------------------
WORKER_CONCURRENCY=5
WORKER_MAX_JOBS_PER_WORKER=10
