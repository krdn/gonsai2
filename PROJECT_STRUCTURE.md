# gonsai2 í”„ë¡œì íŠ¸ êµ¬ì¡°

> n8n í†µí•© ìµœì í™” í”„ë¡œì íŠ¸ - AI í˜‘ì—…ì— ìµœì í™”ëœ êµ¬ì¡°

ìƒì„±ì¼: 2024-11-11

## ğŸ“‚ ì „ì²´ ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
gonsai2/
â”œâ”€â”€ .git/                          # Git ì €ì¥ì†Œ
â”œâ”€â”€ .gitignore                     # Git ë¬´ì‹œ ê·œì¹™
â”œâ”€â”€ .editorconfig                  # ì½”ë“œ ìŠ¤íƒ€ì¼ ì„¤ì •
â”œâ”€â”€ .env.example                   # í™˜ê²½ ë³€ìˆ˜ í…œí”Œë¦¿
â”œâ”€â”€ README.md                      # í”„ë¡œì íŠ¸ ê°œìš”
â”œâ”€â”€ GITHUB_SETUP.md                # GitHub ì—°ë™ ê°€ì´ë“œ
â”œâ”€â”€ PROJECT_STRUCTURE.md           # ì´ íŒŒì¼
â”œâ”€â”€ connection-test.log            # Docker í™˜ê²½ í…ŒìŠ¤íŠ¸ ê²°ê³¼
â”œâ”€â”€ docker-compose.override.yml    # Docker ë„¤íŠ¸ì›Œí¬ ì—°ë™
â”‚
â”œâ”€â”€ .ai/                           # AI ì»¨í…ìŠ¤íŠ¸ ë””ë ‰í† ë¦¬
â”‚   â”œâ”€â”€ context-map.json           # ì›Œí¬í”Œë¡œìš° ì»¨í…ìŠ¤íŠ¸ ë§µ
â”‚   â”œâ”€â”€ error-patterns.json        # ì˜¤ë¥˜ íŒ¨í„´ ì§€ì‹ ë² ì´ìŠ¤
â”‚   â”œâ”€â”€ n8n-templates/             # ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì›Œí¬í”Œë¡œìš° í…œí”Œë¦¿
â”‚   â”œâ”€â”€ workflow-docs/             # ì›Œí¬í”Œë¡œìš°ë³„ ìƒì„¸ ë¬¸ì„œ
â”‚   â””â”€â”€ README.md                  # AI ì»¨í…ìŠ¤íŠ¸ ê°€ì´ë“œ
â”‚
â””â”€â”€ features/                      # ê¸°ëŠ¥ ëª¨ë“ˆ (ëª¨ë…¸ë ˆí¬ ìŠ¤íƒ€ì¼)
    â”œâ”€â”€ n8n-integration/           # n8n REST API í†µí•©
    â”‚   â”œâ”€â”€ types.ts               # TypeScript íƒ€ì… ì •ì˜
    â”‚   â”œâ”€â”€ api-client.ts          # n8n API í´ë¼ì´ì–¸íŠ¸
    â”‚   â”œâ”€â”€ webhook-handler.ts     # ì›¹í›… ìš”ì²­ ì²˜ë¦¬
    â”‚   â”œâ”€â”€ workflow-executor.ts   # ì›Œí¬í”Œë¡œìš° ì‹¤í–‰ ê´€ë¦¬
    â”‚   â”œâ”€â”€ workflow-monitor.ts    # ì‹¤í–‰ ëª¨ë‹ˆí„°ë§
    â”‚   â””â”€â”€ README.md              # ëª¨ë“ˆ ë¬¸ì„œ
    â”‚
    â”œâ”€â”€ agent-orchestration/       # AI Agent ì‘ì—… ì¡°ìœ¨
    â”‚   â”œâ”€â”€ types.ts               # TypeScript íƒ€ì… ì •ì˜
    â”‚   â”œâ”€â”€ agent-manager.ts       # Agent ìƒëª…ì£¼ê¸° ê´€ë¦¬
    â”‚   â”œâ”€â”€ execution-queue.ts     # ìš°ì„ ìˆœìœ„ ê¸°ë°˜ ì‘ì—… í
    â”‚   â”œâ”€â”€ result-processor.ts    # ì‹¤í–‰ ê²°ê³¼ ì²˜ë¦¬
    â”‚   â””â”€â”€ README.md              # ëª¨ë“ˆ ë¬¸ì„œ
    â”‚
    â””â”€â”€ error-healing/             # ìë™ ì˜¤ë¥˜ ì§„ë‹¨ ë° ì¹˜ìœ 
        â”œâ”€â”€ types.ts               # TypeScript íƒ€ì… ì •ì˜
        â”œâ”€â”€ n8n-error-analyzer.ts  # n8n íŠ¹í™” ì˜¤ë¥˜ ë¶„ì„
        â”œâ”€â”€ workflow-fixer.ts      # ì›Œí¬í”Œë¡œìš° ìë™ ìˆ˜ì •
        â””â”€â”€ README.md              # ëª¨ë“ˆ ë¬¸ì„œ
```

## ğŸ¯ ë””ë ‰í† ë¦¬ë³„ ìƒì„¸ ì„¤ëª…

### ë£¨íŠ¸ ë””ë ‰í† ë¦¬

| íŒŒì¼                          | ëª©ì                                    | AI ì¹œí™”ë„  |
| ----------------------------- | -------------------------------------- | ---------- |
| `README.md`                   | í”„ë¡œì íŠ¸ ì „ì²´ ê°œìš” ë° ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ | â­â­â­â­â­ |
| `GITHUB_SETUP.md`             | GitHub ì €ì¥ì†Œ ì—°ë™ ë‹¨ê³„ë³„ ê°€ì´ë“œ       | â­â­â­â­   |
| `PROJECT_STRUCTURE.md`        | í”„ë¡œì íŠ¸ êµ¬ì¡° ìƒì„¸ ì„¤ëª… (ì´ íŒŒì¼)      | â­â­â­â­â­ |
| `.env.example`                | í™˜ê²½ ë³€ìˆ˜ í…œí”Œë¦¿ (ì ˆëŒ€ ì»¤ë°‹ ì•ˆ ë¨)     | â­â­â­â­â­ |
| `docker-compose.override.yml` | ê¸°ì¡´ n8n/MongoDB ì—°ë™ ì„¤ì •             | â­â­â­â­   |
| `connection-test.log`         | Docker í™˜ê²½ ìƒíƒœ ìŠ¤ëƒ…ìƒ·                | â­â­â­     |

### .ai/ - AI ì»¨í…ìŠ¤íŠ¸ ë””ë ‰í† ë¦¬

**ëª©ì **: AIê°€ í”„ë¡œì íŠ¸ë¥¼ ì´í•´í•˜ê³  íš¨ê³¼ì ìœ¼ë¡œ ì‘ì—…í•  ìˆ˜ ìˆë„ë¡ êµ¬ì¡°í™”ëœ ì»¨í…ìŠ¤íŠ¸ ì œê³µ

| íŒŒì¼                  | ë‚´ìš©                                     | AI í™œìš©                        |
| --------------------- | ---------------------------------------- | ------------------------------ |
| `context-map.json`    | n8n ì›Œí¬í”Œë¡œìš° êµ¬ì¡°, ì˜ì¡´ì„±, ì‹¤í–‰ íŒ¨í„´   | ì›Œí¬í”Œë¡œìš° ìˆ˜ì • ì „ ì˜ì¡´ì„± í™•ì¸ |
| `error-patterns.json` | ì˜¤ë¥˜ ì‹œê·¸ë‹ˆì²˜, ì§„ë‹¨ ë‹¨ê³„, ìë™ ì¹˜ìœ  ì•¡ì…˜ | ì˜¤ë¥˜ ìë™ ì§„ë‹¨ ë° ë³µêµ¬         |
| `n8n-templates/`      | ê²€ì¦ëœ ì›Œí¬í”Œë¡œìš° JSON í…œí”Œë¦¿            | ìƒˆ ì›Œí¬í”Œë¡œìš° ìƒì„± ì‹œ ì°¸ì¡°     |
| `workflow-docs/`      | ì›Œí¬í”Œë¡œìš°ë³„ ìƒì„¸ Markdown ë¬¸ì„œ          | ì›Œí¬í”Œë¡œìš° ì´í•´ ë° ìˆ˜ì •        |
| `README.md`           | AI í˜‘ì—… íŒ¨í„´ ë° ì‚¬ìš© ê°€ì´ë“œ              | AI í˜‘ì—… ë°©ë²•ë¡                  |

**AI ìµœì í™” íŠ¹ì§•**:

- JSON í˜•ì‹ìœ¼ë¡œ êµ¬ì¡°í™”ë˜ì–´ í”„ë¡œê·¸ë˜ë° ë°©ì‹ìœ¼ë¡œ íŒŒì‹± ê°€ëŠ¥
- ëª¨ë“  ì»¨í…ìŠ¤íŠ¸ì— `@aiContext` ì£¼ì„ í¬í•¨
- ì˜¤ë¥˜ íŒ¨í„´ì€ ì •ê·œí‘œí˜„ì‹ìœ¼ë¡œ ë§¤ì¹­ ê°€ëŠ¥

### features/ - ê¸°ëŠ¥ ëª¨ë“ˆ

**ì„¤ê³„ ì›ì¹™**: Kent Beckì˜ Augmented Coding ì›ì¹™ ì ìš©

#### 1. n8n-integration/ (n8n REST API í†µí•©)

**ëª©ì **: n8n ì›Œí¬í”Œë¡œìš° í”Œë«í¼ê³¼ì˜ íƒ€ì… ì•ˆì „í•œ í†µí•©

| íŒŒì¼                   | ì—­í•                     | í•µì‹¬ ê¸°ëŠ¥            |
| ---------------------- | ----------------------- | -------------------- |
| `types.ts`             | TypeScript íƒ€ì… ì •ì˜    | ì „ì²´ n8n API íƒ€ì…    |
| `api-client.ts`        | n8n REST API í´ë¼ì´ì–¸íŠ¸ | ì›Œí¬í”Œë¡œìš°/ì‹¤í–‰ CRUD |
| `webhook-handler.ts`   | ì›¹í›… ìš”ì²­ ì²˜ë¦¬          | ì¸ì¦, ê²€ì¦, ì‘ë‹µ     |
| `workflow-executor.ts` | ì›Œí¬í”Œë¡œìš° ì‹¤í–‰ ê´€ë¦¬    | ì‹¤í–‰ ë° ì™„ë£Œ ëŒ€ê¸°    |
| `workflow-monitor.ts`  | ì‹¤í–‰ ëª¨ë‹ˆí„°ë§           | ë©”íŠ¸ë¦­ ìˆ˜ì§‘ ë° ë¶„ì„  |

**ì‚¬ìš© ì˜ˆì‹œ**:

```typescript
import { createN8nClient } from './features/n8n-integration/api-client';

const client = createN8nClient();
const workflows = await client.workflows.getAll();
```

#### 2. agent-orchestration/ (AI Agent ì‘ì—… ì¡°ìœ¨)

**ëª©ì **: ì—¬ëŸ¬ AI Agent ì‘ì—…ì„ ìš°ì„ ìˆœìœ„ ê¸°ë°˜ìœ¼ë¡œ ê´€ë¦¬

| íŒŒì¼                  | ì—­í•                  | í•µì‹¬ ê¸°ëŠ¥              |
| --------------------- | -------------------- | ---------------------- |
| `types.ts`            | TypeScript íƒ€ì… ì •ì˜ | AgentTask, AgentResult |
| `agent-manager.ts`    | Agent ìƒëª…ì£¼ê¸° ê´€ë¦¬  | ìƒì„±, ìƒíƒœ ì¶”ì         |
| `execution-queue.ts`  | ìš°ì„ ìˆœìœ„ ê¸°ë°˜ í     | ì‘ì—… ìŠ¤ì¼€ì¤„ë§          |
| `result-processor.ts` | ì‹¤í–‰ ê²°ê³¼ ì²˜ë¦¬       | ê²°ê³¼ ì €ì¥ ë° ë¶„ì„      |

**ì‚¬ìš© ì˜ˆì‹œ**:

```typescript
import { AgentManager, ExecutionQueue } from './features/agent-orchestration';

const manager = new AgentManager();
const task = await manager.createTask('workflow-id', { input: 'data' });
```

#### 3. error-healing/ (ìë™ ì˜¤ë¥˜ ì§„ë‹¨ ë° ì¹˜ìœ )

**ëª©ì **: n8n ì›Œí¬í”Œë¡œìš° ì˜¤ë¥˜ë¥¼ ìë™ìœ¼ë¡œ ì§„ë‹¨í•˜ê³  ê°€ëŠ¥í•œ ê²½ìš° ìë™ ë³µêµ¬

| íŒŒì¼                    | ì—­í•                  | í•µì‹¬ ê¸°ëŠ¥                     |
| ----------------------- | -------------------- | ----------------------------- |
| `types.ts`              | TypeScript íƒ€ì… ì •ì˜ | ErrorPattern, DiagnosisResult |
| `n8n-error-analyzer.ts` | n8n íŠ¹í™” ì˜¤ë¥˜ ë¶„ì„   | ì˜¤ë¥˜ íŒ¨í„´ ë§¤ì¹­                |
| `workflow-fixer.ts`     | ì›Œí¬í”Œë¡œìš° ìë™ ìˆ˜ì • | ì•ˆì „í•œ ìë™ ë³µêµ¬              |

**ì‚¬ìš© ì˜ˆì‹œ**:

```typescript
import { N8nErrorAnalyzer } from './features/error-healing';

const analyzer = new N8nErrorAnalyzer();
const diagnosis = analyzer.analyze(error);

if (diagnosis.autoHealable) {
  // Attempt automatic fix
}
```

## ğŸ§© ëª¨ë“ˆ ê°„ ì˜ì¡´ì„±

```
features/agent-orchestration/
    â†“ (uses)
features/n8n-integration/
    â†“ (monitors)
features/error-healing/
    â†“ (reads)
.ai/error-patterns.json
```

**ì˜ì¡´ì„± ê·œì¹™**:

- ê° ëª¨ë“ˆì€ ë…ë¦½ì ìœ¼ë¡œ ì‚¬ìš© ê°€ëŠ¥
- ìˆœí™˜ ì˜ì¡´ì„± ì—†ìŒ
- `.ai/` ë””ë ‰í† ë¦¬ëŠ” ëª¨ë“  ëª¨ë“ˆì´ ì°¸ì¡° ê°€ëŠ¥ (ì½ê¸° ì „ìš©)

## ğŸ“Š íŒŒì¼ í†µê³„

| ì¹´í…Œê³ ë¦¬        | íŒŒì¼ ìˆ˜ | ì´ ë¼ì¸ ìˆ˜ (ì˜ˆìƒ) |
| --------------- | ------- | ----------------- |
| TypeScript ì†ŒìŠ¤ | 14      | ~2,000            |
| Markdown ë¬¸ì„œ   | 7       | ~1,500            |
| JSON ì„¤ì •       | 2       | ~200              |
| ê¸°íƒ€ ì„¤ì •       | 4       | ~150              |
| **í•©ê³„**        | **27**  | **~3,850**        |

## ğŸ”§ í–¥í›„ í™•ì¥ ê³„íš

### ë‹¨ê¸° (1-2ì£¼)

```
gonsai2/
â”œâ”€â”€ features/
â”‚   â””â”€â”€ monitoring/             # ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ
â”‚       â”œâ”€â”€ metrics-collector.ts
â”‚       â”œâ”€â”€ alert-manager.ts
â”‚       â””â”€â”€ dashboard-api.ts
```

### ì¤‘ê¸° (1ê°œì›”)

```
gonsai2/
â”œâ”€â”€ features/
â”‚   â”œâ”€â”€ workflow-builder/       # AI ê¸°ë°˜ ì›Œí¬í”Œë¡œìš° ë¹Œë”
â”‚   â”‚   â”œâ”€â”€ template-engine.ts
â”‚   â”‚   â””â”€â”€ node-recommender.ts
â”‚   â”‚
â”‚   â””â”€â”€ database/               # MongoDB ìŠ¤í‚¤ë§ˆ ë° ëª¨ë¸
â”‚       â”œâ”€â”€ models/
â”‚       â””â”€â”€ migrations/
```

### ì¥ê¸° (3ê°œì›”)

```
gonsai2/
â”œâ”€â”€ packages/                   # Monorepo ì „í™˜
â”‚   â”œâ”€â”€ core/                   # ê³µí†µ í•µì‹¬ ë¡œì§
â”‚   â”œâ”€â”€ n8n-client/             # n8n í´ë¼ì´ì–¸íŠ¸ íŒ¨í‚¤ì§€
â”‚   â”œâ”€â”€ database/               # ë°ì´í„°ë² ì´ìŠ¤ íŒ¨í‚¤ì§€
â”‚   â””â”€â”€ api/                    # REST API ì„œë²„
â”‚
â””â”€â”€ apps/                       # ì• í”Œë¦¬ì¼€ì´ì…˜
    â”œâ”€â”€ web/                    # ì›¹ UI (React)
    â””â”€â”€ cli/                    # CLI ë„êµ¬
```

## ğŸ“ Kent Beck ì›ì¹™ ì ìš© ì²´í¬ë¦¬ìŠ¤íŠ¸

### âœ… ëª…í™•í•œ ì˜ë„ (Clear Intent)

- [x] ëª¨ë“  í•¨ìˆ˜ì™€ í´ë˜ìŠ¤ ì´ë¦„ì´ ëª©ì ì„ ëª…í™•íˆ í‘œí˜„
- [x] íŒŒì¼ ì´ë¦„ì´ ë‚´ìš©ì„ ì •í™•íˆ ë°˜ì˜
- [x] ë””ë ‰í† ë¦¬ êµ¬ì¡°ê°€ ê¸°ëŠ¥ë³„ë¡œ ëª…í™•íˆ ë¶„ë¦¬

### âœ… ì‘ì€ ë‹¨ê³„ (Small Steps)

- [x] ê° ëª¨ë“ˆì€ ë…ë¦½ì ìœ¼ë¡œ ì´í•´ ê°€ëŠ¥
- [x] í•¨ìˆ˜ëŠ” ë‹¨ì¼ ì±…ì„ ì›ì¹™ ì¤€ìˆ˜
- [x] ì ì§„ì  í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡°

### âœ… í’ë¶€í•œ ì»¨í…ìŠ¤íŠ¸ (Rich Context)

- [x] `.ai/` ë””ë ‰í† ë¦¬ì— êµ¬ì¡°í™”ëœ ì»¨í…ìŠ¤íŠ¸
- [x] ëª¨ë“  ì£¼ìš” í•¨ìˆ˜ì— `@aiContext` ì£¼ì„
- [x] README.mdì— ì‚¬ìš© ì˜ˆì‹œ í¬í•¨

### âœ… í…ŒìŠ¤íŠ¸ ê°€ëŠ¥ì„± (Testability)

- [x] ëª¨ë“ˆ ê°„ ë‚®ì€ ê²°í•©ë„
- [x] ì˜ì¡´ì„± ì£¼ì… ê°€ëŠ¥
- [x] ìˆœìˆ˜ í•¨ìˆ˜ ìš°ì„ 

## ğŸ“š ì°¸ê³  ë¬¸ì„œ

- **í”„ë¡œì íŠ¸ ê°œìš”**: [README.md](./README.md)
- **GitHub ì„¤ì •**: [GITHUB_SETUP.md](./GITHUB_SETUP.md)
- **AI ì»¨í…ìŠ¤íŠ¸**: [.ai/README.md](./.ai/README.md)
- **Docker ì—°ë™**: [connection-test.log](./connection-test.log)

---

**ìƒì„± ì •ë³´**

- ìƒì„±ì¼: 2024-11-11
- ìƒì„± ë„êµ¬: Claude Code
- ì„¤ê³„ ì›ì¹™: Kent Beck's Augmented Coding
- ëª©ì : AI-Human í˜‘ì—… ìµœì í™”

**ë‹¤ìŒ ë‹¨ê³„**

1. í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (`.env` íŒŒì¼)
2. íŒ¨í‚¤ì§€ ì´ˆê¸°í™” (`package.json`, `tsconfig.json`)
3. GitHub ì €ì¥ì†Œ ìƒì„± ë° í‘¸ì‹œ
4. CI/CD íŒŒì´í”„ë¼ì¸ ì„¤ì •
